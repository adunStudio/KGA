# 퀘스트 기본

### 튜토리얼 및 초반
- 초반 유저에 대한 전반적인 가이드 역할이 가장 중요
- 게임의 세계관 및 스토리에 대한 **정보 제공**
- 핵심적이고 기본적인 게임 플레이에 대한 **학습**
- 유저의 **호기심**과 **궁금증**을 자극
- 유저에게 플레이에 대한 **동기 부여**

### 메인 퀘스트
- 가장 중요한 목적 | **컨텐츠 소모 속도 조절**
- **메인 스토리**와 **세계관**에 대한 학습 및 몰입감 향상
- 유저의 전체 플레이 동선으로 활용
- 플레이어의 다음 게임 플레이에 대한 **가이드**
  - 새로운 지역 오픈, 시스템 및 컨텐츠 소개 등
- 유저 **잔류**, **재접속**, **결제** 등을 유도하는 장비, 아이템, 스킬 등 지급

### 서브 퀘스트
- 다양한 성향(플레이 패턴, 직업, 레벨 등)의 유저가 사용 가능한 컨텐츠의 **양적 제공**
- 게임 내 활용성이 낮은 **리소스의 활용** (맵, 몬스터 등)
- 직업 별 **밸런스 조절**
- 독립된 시즌성 퀘스트
  - 크리스마스, 할로윈, 올릭핌 금메달 기념 이벤트 등
  
### 게임 플레이에 따른 퀘스트 배치
- 게임 플레이의 후반으로 갈 수록 발생하는 퀘스트의 변화
  - 퀘스트 클리어 타일 상승: 난이도 상승
  - 퀘스트 스케일 확대: 개인적 문제 → 지역적 문제 → 세계적 문제
  - 퀘스트 보상 가치가 강력해 짐
- 개인 퀘스트는 팀 퀘스트보다 장소 이동이 빈번하다.
  - 메인 퀘스트가 주를 이루기 때문
- 팀 퀘스트는 개인 퀘스트보다 시도하기 어렵기 때문에 **더 좋은 보상**이 주어져야 한다.

---

### 퀘스트 디자인 순서
1. 제작 의도 설정

2. 기본 스토리라인 설정

3. 시작 조건 설정

4. 진행 설정

5. 보상 설정

#### 1. 제작 의도 설정

해당 퀘스트를 통해 유저에게 제공하고자 하는 것

유저로부터 얻고자 하는 효과

- 예: 산성 슬라임은 산성 분비물이 무기 내구성을 낮추기 때문에 유저들이 사냥을 기피한다. 산성 슬라임 20마리를 잡아오면 칼 아이템을 줄게

##### 제작의도의 예시

- 새 시스템 소개
- 지역 탐색
- 메인 스토리 학습 유도
- 특정 몬스터 사냥 유도 등

#### 2. 기본 스토리라인 설정

세계관 또는 설정된 시나리오를 기반으로 설정

해당 단계의 퀘스트에 적합한 형태의 스토리라인 선택

해당 퀘스트의 스토리적인 발단 동기 설정

해당 퀘스트의 스토리적인 진행 및 마무리 설정

해당 퀘스트 완료 후 게임의 세계관 및 시나리오에 미치는 영향 설정

#### 3. 시작 조건 설정

퀘스트가 발동되거나 시작할 수 있는 조건을 설정

조건이 잘 못 되었을 경우 발생할 수 있는 문제점

- 퀘스트가 시작이 안되요~, 저렙인데 고렙 퀘를 받을 수 있네?, 전사만 받을 수 있는 퀘인데...

캐릭터의 상태

- 직업, 레벨, 아이템, 명성 등

타 퀘스트 선행 여부

기타 특정 조건 만족

- 밤에만 받을 수 있거나 평판이 매우 선함일 때만 받을 수 있음 등

#### 4. 진행 설정

진행 순서

진행 루트

수행해야 하는 임무

난이도

시간 등

##### 퀘스트 임무 종류

- NPC와의 대화
- 아이템 배달
- 지역 방문
- 사냥
- 아이템 수집
- NPC 구출
- NPC 호위
- 보스 몬스터 처치 등
- 이 외에도 기획자의 창의성을 발휘하여 구성 가능

#### 5. 보상 설정

재화 적 측면: 돈, 아이템

성장 적 측면: 경험치, 명성, 스킬

기능 적 측면: 입장 권환, 타 퀘스트 실행 조건, 메뉴의 확장 등

---

### 좋은 진행과 보상 설계

- 동일한 시간의 사냥에 대한 보상을 기준으로 설계

- 사냥 등 정상적인 플레이로 얻을 수 없는 의미 있는 결과물

- 퀘스트 수행 시간이 길 수록, 난이도가 높을 수록 더 강력한 보상
  - 비슷한 보상을 주거나 비슷한 상태에서 수행 가능한 타 퀘스트 대비 동선이 길거나, 난이도가 높을 수록 외면 당할 가능성이 높다.

### 연계 퀘스트

- 수 많은 퀘스트들의 관리를 용이하게 함
- 단일 퀘스트가 가진 문제들을 다른 퀘스트와 연계함으로써 해결
  - 재미 부족, 적나라한 목적성, 노력과 보상의 불일치 등
  - 사냥, 배달, 아이템 수집, 수색 등 다양한 목적을 가진 퀘스트들을 묶는 것이 중요
  - 가장 마지막 퀘스트는 보상 수준이 강력해야 한다.

### 전체 퀘스트 구성

- 게임의 전체 퀘스트(혹은 한 시즌 전체)는 밸런스 측면을 고려해서 구성
  - 레벨, 스토리의 진행과 함께 전체 **퀘스트의 연계 구조**를 표시하는 한 장의 **다이어그램**
- 각 퀘스트의 타입, 사용 지역, 몬스터, 주요 보상, 싱글 or 멀티, 수행 클래스, 플레이타임 등을 정리한 **시트**
- 위의 시트를 통해 전체 퀘스트가 게임의 각 리소스, 타입, 클래스 등을 얼만큼 활용하고 있는지를 한 눈에 리뷰할 수 있는 **요약 페이지**

---

# 퀘스트 구조

### 초 간단 퀘스트 구조

- 유한상태기계(FSM) + 스위치 + 트리거의 조합으로 구성 가능
  - 초기 RPG에 많이 쓰임
  - 장점: 테이블화를 통해 퀘스트의 대량 제작, 양산, 수정에 용이
  - 단점: 구조적 한계로 표현에 제약이 많음, 유저가 게임 세계에 몰입할 수 있는 스토리텔링 전달이 어려움

### 트리거

- 조건과 작용 및 자주 사용하는 구문을 하나의 단위로 묶어 놓음
- 조건과 작용 | 트리거의 기본 구조
  - A조건을 만족하면 A 작용이 실행된다.

### 퀘스트를 하나 만들어보자 1

조건: 장로에게 말을 걸어라

작용: 장로가 기본 아이템을 준다

- 위의 이벤트는 저레벨 유저에게만 적용되게 하는 게 좋겠쬬?
- 위의 구조대로 설계한다면 유저는 장로에게 말을 걸 때마다 받는다.
- 유항상태기계를 사용해.. 스위치를...

### 퀘스트를 하나 만들어보자 2

유한 상태 기계 스위치를 넣어보자.

- 퀘스트를 받을 수 있는 상태(A) : 스위치 = OFF
- 퀘스트 종료 : 스위치 = OFF
- A 상태의 전이 사건 1: 레벨 5 이하
- A 상태의 전이 사건 2: 기본 아이템을 가지고 있지 않을 때
- 조건: 장로에게 말을 건다.
- 작용 1: 장로가 기본 아이템을 준다.
- 작용 2: 퀘스트 종료 스위치 = ON

### 연속되는 퀘스트를 설계해 보자

장로에게 말을 걸면 기본 아이템을 주고 대장장이에게 가 보라고 하는 퀘스트가 생성되는 경우

앞의 퀘스트 작용에 아래의 작용을 추가

- 작용: 2번 퀘스트를 받을 수 있는 상태 스위치 ON = (해당 스위치를 대장장이 퀘스트에 연결하면 된다.)

### 스위치의 확장

스위치 값 필드를 퀘스트 트리거 뿐 아니라 몬스터, 아이템, NPC CLASS에 모두 삽입하는 방식으로 퀘스트의 관리를 용이하게 함

- 예: 평소에는 고블린이 깃발 아이템을 드랍하지 않지만 고블린 부족 깃발을 10개 모아오라는 퀘스트 수락 이후에는 고블린을 죽이면 깃발 아이템이 나옴

스위치를 통해 맵, NPC, 스토리 진행 등 게임 세계의 상태를 컨트롤

- 생성, 소멸, 오픈, 특정 액션을 취함, 선택 가능한 기능의 증가
- 하지만 스위치의 확장 사용부터는 실질적으로 Class 설계만으로는 몰입도 높은 퀘스트 구현이 힘들어짐, 스크립트 언어의 적극적인 사용 필요

### 퀘스트 Class 설계

- 각 퀘스트 별로 ID 부여
- 각 퀘스트에 대응하는 트리거와 스위치를 할당
- 시작 조건 리스트를 제작
  - 레벨, NPC, 특정 아이템 소유 등
- 작용 리스트를 제작
  - 아이템 주기, 아이템 가져가기, 경험치, 돈, 스킬 포인트, 우호도 보상 등
- 스위치 확장을 이용한 NPC | 혹은 월드 전체의 상태 변화 적용
  - 임의의 퀘스트를 서술형 형태로 작성해 보고 해당 퀘스트가 현재 설계한 구조로 구현 가능한지 테스트해 본 후 Class 속성의 추가, 삭제, 수정 과정을 통해 설계 완성



